var e=Object.defineProperty,t=Object.defineProperties,s=Object.getOwnPropertyDescriptors,r=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,i=(t,s,r)=>s in t?e(t,s,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[s]=r;import{r as n,B as o,C as c,S as d,R as m,Z as x,H as u,a as p,b as h,c as y,G as g,P as b,X as f,d as w,e as j}from"./ui-vendor-BTafJN7T.js";import{r as N}from"./react-vendor-DUpYbkpg.js";var v,A,k={exports:{}},W={};var S=(A||(A=1,k.exports=function(){if(v)return W;v=1;var e=N(),t=Symbol.for("react.element"),s=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,a=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function i(e,s,i){var n,o={},c=null,d=null;for(n in void 0!==i&&(c=""+i),void 0!==s.key&&(c=""+s.key),void 0!==s.ref&&(d=s.ref),s)r.call(s,n)&&!l.hasOwnProperty(n)&&(o[n]=s[n]);if(e&&e.defaultProps)for(n in s=e.defaultProps)void 0===o[n]&&(o[n]=s[n]);return{$$typeof:t,type:e,key:c,ref:d,props:o,_owner:a.current}}return W.Fragment=s,W.jsx=i,W.jsxs=i,W}()),k.exports);const M=(e,t,s)=>{const r=(e=>e?{rarity:{common:"text-gray-300 font-normal",rare:"text-cyan-300 font-medium",epic:"text-indigo-300 font-semibold",legendary:"text-amber-300 font-bold",mythical:"text-pink-300 font-black"},rarityBorder:{common:"border-gray-400 border-solid",rare:"border-cyan-400 border-dashed",epic:"border-indigo-400 border-dotted",legendary:"border-amber-400 border-double",mythical:"border-pink-400 border-4"},rarityBg:{common:"bg-gray-800/40",rare:"bg-cyan-900/40",epic:"bg-indigo-900/40",legendary:"bg-amber-900/40",mythical:"bg-pink-900/40"},health:{high:"bg-slate-400",medium:"bg-slate-500",low:"bg-slate-700"},ui:{success:"text-slate-300",warning:"text-slate-400",error:"text-slate-500",info:"text-slate-200"}}:{rarity:{common:"text-gray-400",rare:"text-blue-400",epic:"text-purple-400",legendary:"text-yellow-400",mythical:"text-red-600"},rarityBorder:{common:"border-gray-400",rare:"border-blue-400",epic:"border-purple-400",legendary:"border-yellow-400",mythical:"border-red-600"},rarityBg:{common:"bg-gray-900/30",rare:"bg-blue-900/30",epic:"bg-purple-900/30",legendary:"bg-yellow-900/30",mythical:"bg-red-900/30"},health:{high:"bg-green-500",medium:"bg-yellow-500",low:"bg-red-500"},ui:{success:"text-green-400",warning:"text-yellow-400",error:"text-red-400",info:"text-blue-400"}})(s);switch(t){case"text":return r.rarity[e]||r.rarity.common;case"border":return r.rarityBorder[e]||r.rarityBorder.common;case"bg":return r.rarityBg[e]||r.rarityBg.common;default:return""}},q={common:["Rusty Sword","Wooden Club","Stone Axe","Iron Dagger"],rare:["Steel Blade","Silver Mace","Enchanted Bow","Crystal Staff"],epic:["Flamebrand","Frostbite","Thunder Strike","Shadow Cleaver"],legendary:["Excalibur","Mjolnir","Gungnir","Durandal"],mythical:["Void Reaper","Cosmic Blade","Reality Slicer","Dimension Cutter","Soul Harvester","Infinity Edge","Chaos Bringer","Eternal Destroyer"]},C={common:["Leather Vest","Cloth Robe","Wooden Shield","Iron Helm"],rare:["Chainmail","Steel Plate","Mystic Cloak","Silver Guard"],epic:["Dragon Scale","Phoenix Mail","Void Armor","Crystal Guard"],legendary:["Divine Aegis","Eternal Plate","Shadowweave","Celestial Ward"],mythical:["Abyssal Aegis","Stellar Fortress","Quantum Shield","Infinity Guard","Void Mantle","Cosmic Barrier","Reality Armor","Dimensional Cloak"]},R={weapons:["Ancient Blade of Yojef","Primordial Sword","Relic of the First War","Eternal Flame Sword","Void Touched Blade","Starfall Weapon","Temporal Slicer","Reality Breaker"],armor:["Guardian's Ancient Shield","Primordial Armor","Relic of Protection","Eternal Barrier","Void Touched Guard","Starfall Aegis","Temporal Ward","Reality Defender"]},E=["Goblin Warrior","Shadow Wolf","Stone Golem","Fire Imp","Ice Troll","Dark Mage","Lightning Drake","Void Wraith","Crystal Beast","Ancient Dragon","Chaos Lord","Nightmare King","Abyssal Terror","Cosmic Horror","Reality Bender","Dimension Lord","Eternal Guardian","Void Emperor","Chaos Incarnate","Reality Destroyer"],D=e=>({common:50,rare:75,epic:100,legendary:150,mythical:200}[e]||50),T=(e=!1,t,s=!1)=>{let r;if(t)r=t;else{const e=["common","rare","epic","legendary","mythical"],t=[40,30,20,8,2],s=100*Math.random();r="common";let a=0;for(let l=0;l<t.length;l++)if(a+=t[l],s<=a){r=e[l];break}}const a=q[r],l=a[Math.floor(Math.random()*a.length)];let i={common:15,rare:25,epic:40,legendary:60,mythical:100}[r]+Math.floor(10*Math.random());const n=s||Math.random()<.4;let o=1;n&&(o=2,i*=2);const c=Math.floor(.5*i),d=D(r);return{id:Math.random().toString(36).substr(2,9),name:n?`Enchanted ${l}`:l,rarity:r,baseAtk:i,level:1,upgradeCost:{common:5,rare:10,epic:20,legendary:40,mythical:50}[r],sellPrice:c,isChroma:!1,durability:d,maxDurability:d,isEnchanted:n,enchantmentMultiplier:o}},B=(e=!1,t,s=!1)=>{let r;if(t)r=t;else{const e=["common","rare","epic","legendary","mythical"],t=[40,30,20,8,2],s=100*Math.random();r="common";let a=0;for(let l=0;l<t.length;l++)if(a+=t[l],s<=a){r=e[l];break}}const a=C[r],l=a[Math.floor(Math.random()*a.length)];let i={common:8,rare:15,epic:25,legendary:40,mythical:70}[r]+Math.floor(5*Math.random());const n=s||Math.random()<.4;let o=1;n&&(o=2,i*=2);const c=Math.floor(.75*i),d=D(r);return{id:Math.random().toString(36).substr(2,9),name:n?`Enchanted ${l}`:l,rarity:r,baseDef:i,level:1,upgradeCost:{common:5,rare:10,epic:20,legendary:40,mythical:50}[r],sellPrice:c,isChroma:!1,durability:d,maxDurability:d,isEnchanted:n,enchantmentMultiplier:o}},P=e=>{const t=e?"weapon"===e:Math.random()<.5,s=t?R.weapons:R.armor,r=s[Math.floor(Math.random()*s.length)];if(t){const e=120+Math.floor(60*Math.random());return{id:Math.random().toString(36).substr(2,9),name:r,type:"weapon",baseAtk:e,level:1,upgradeCost:50,cost:30*e,description:"A powerful relic weapon from ancient times"}}{const e=90+Math.floor(45*Math.random());return{id:Math.random().toString(36).substr(2,9),name:r,type:"armor",baseDef:e,level:1,upgradeCost:50,cost:30*e,description:"A powerful relic armor from ancient times"}}},$=e=>{const t=Math.min(Math.floor((e-1)/5),E.length-1),s=E[t];let r=200+15*e,a=20+8*e,l=Math.floor(2*e);return e>=10&&(r=Math.floor(r*Math.pow(1.1,e-10)),a=Math.floor(a*Math.pow(1.08,e-10)),l=Math.floor(l*Math.pow(1.05,e-10))),{name:s,hp:r,maxHp:r,atk:a,def:l,zone:e,isPoisoned:!1,poisonTurns:0,canDropItems:e>=10}},G=e=>e>=1e3?[0,0,0,70,30]:e>=400?[0,0,60,30,10]:e>=200?[0,50,35,13,2]:[60,30,8,2,0],I=(e,t=!1)=>M(e,"text",t),O=(e,t=!1)=>M(e,"border",t),L=(e,t=!1)=>{if(t)return"";switch(e){case"common":default:return"shadow-gray-500/20";case"rare":return"shadow-blue-500/30";case"epic":return"shadow-purple-500/40";case"legendary":return"shadow-yellow-500/50";case"mythical":return"shadow-red-600/60"}},F=[{id:"1",question:"What is 2 + 2?",type:"multiple-choice",options:["3","4","5","6"],correctAnswer:1,category:"Math",difficulty:"easy"},{id:"2",question:"What is 5 Ã— 2?",type:"multiple-choice",options:["8","10","12","15"],correctAnswer:1,category:"Math",difficulty:"easy"},{id:"3",question:"What is 10 - 3?",type:"multiple-choice",options:["6","7","8","9"],correctAnswer:1,category:"Math",difficulty:"easy"},{id:"4",question:"How many minutes are in one hour?",type:"slider",correctAnswer:60,sliderRange:{min:0,max:120},category:"Math",difficulty:"easy"},{id:"5",question:"What is half of 10?",type:"type-answer",correctAnswer:"5",category:"Math",difficulty:"easy"},{id:"6",question:"How many legs does a cat have?",type:"multiple-choice",options:["2","4","6","8"],correctAnswer:1,category:"Science",difficulty:"easy"},{id:"7",question:"What do we breathe to stay alive?",type:"multiple-choice",options:["Water","Air","Food","Light"],correctAnswer:1,category:"Science",difficulty:"easy"},{id:"8",question:"What color is the sun?",type:"multiple-choice",options:["Blue","Green","Yellow","Purple"],correctAnswer:2,category:"Science",difficulty:"easy"},{id:"9",question:"How many eyes do most people have?",type:"slider",correctAnswer:2,sliderRange:{min:0,max:10},category:"Science",difficulty:"easy"},{id:"10",question:"What do fish live in?",type:"type-answer",correctAnswer:"water",category:"Science",difficulty:"easy"},{id:"11",question:"What planet do we live on?",type:"multiple-choice",options:["Mars","Earth","Moon","Sun"],correctAnswer:1,category:"Geography",difficulty:"easy"},{id:"12",question:"What is the largest ocean?",type:"multiple-choice",options:["Atlantic","Pacific","Indian","Arctic"],correctAnswer:1,category:"Geography",difficulty:"easy"},{id:"13",question:"How many continents are there?",type:"slider",correctAnswer:7,sliderRange:{min:1,max:10},category:"Geography",difficulty:"easy"},{id:"14",question:"What is the biggest country in the world?",type:"type-answer",correctAnswer:"russia",category:"Geography",difficulty:"easy"},{id:"15",question:"Which continent has penguins?",type:"type-answer",correctAnswer:"antarctica",category:"Geography",difficulty:"easy"},{id:"20",question:"What color do you get when you mix red and yellow?",type:"multiple-choice",options:["Purple","Orange","Green","Blue"],correctAnswer:1,category:"Art",difficulty:"easy"},{id:"21",question:"What color do you get when you mix blue and yellow?",type:"multiple-choice",options:["Purple","Orange","Green","Pink"],correctAnswer:2,category:"Art",difficulty:"easy"},{id:"22",question:"How many colors are in a rainbow?",type:"slider",correctAnswer:7,sliderRange:{min:1,max:15},category:"Art",difficulty:"easy"},{id:"23",question:"What color is grass?",type:"type-answer",correctAnswer:"green",category:"Art",difficulty:"easy"},{id:"24",question:"What color is snow?",type:"type-answer",correctAnswer:"white",category:"Art",difficulty:"easy"},{id:"25",question:"What sound does a dog make?",type:"multiple-choice",options:["Meow","Bark","Moo","Roar"],correctAnswer:1,category:"Animals",difficulty:"easy"},{id:"26",question:"What sound does a cat make?",type:"multiple-choice",options:["Bark","Meow","Moo","Oink"],correctAnswer:1,category:"Animals",difficulty:"easy"},{id:"27",question:"What do cows give us to drink?",type:"multiple-choice",options:["Water","Juice","Milk","Soda"],correctAnswer:2,category:"Animals",difficulty:"easy"},{id:"28",question:"What do bees make?",type:"type-answer",correctAnswer:"honey",category:"Animals",difficulty:"easy"},{id:"29",question:"What do chickens lay?",type:"type-answer",correctAnswer:"eggs",category:"Animals",difficulty:"easy"},{id:"30",question:"What fruit is red and grows on trees?",type:"multiple-choice",options:["Banana","Apple","Orange","Grape"],correctAnswer:1,category:"Food",difficulty:"easy"},{id:"31",question:"What vegetable is orange and grows underground?",type:"multiple-choice",options:["Lettuce","Tomato","Carrot","Corn"],correctAnswer:2,category:"Food",difficulty:"easy"},{id:"32",question:"What do we call the first meal of the day?",type:"multiple-choice",options:["Lunch","Dinner","Breakfast","Snack"],correctAnswer:2,category:"Food",difficulty:"easy"},{id:"33",question:"What color is a banana?",type:"type-answer",correctAnswer:"yellow",category:"Food",difficulty:"easy"},{id:"34",question:"What do we use to eat soup?",type:"type-answer",correctAnswer:"spoon",category:"Food",difficulty:"easy"},{id:"35",question:"How many days are in a week?",type:"slider",correctAnswer:7,sliderRange:{min:1,max:14},category:"Time",difficulty:"easy"},{id:"36",question:"How many months are in a year?",type:"slider",correctAnswer:12,sliderRange:{min:1,max:20},category:"Time",difficulty:"easy"},{id:"37",question:"What comes after Monday?",type:"multiple-choice",options:["Sunday","Tuesday","Wednesday","Friday"],correctAnswer:1,category:"Time",difficulty:"easy"},{id:"38",question:"What season comes after winter?",type:"type-answer",correctAnswer:"spring",category:"Time",difficulty:"easy"},{id:"39",question:"What month comes after January?",type:"type-answer",correctAnswer:"february",category:"Time",difficulty:"easy"},{id:"40",question:"What do we use to see?",type:"multiple-choice",options:["Ears","Eyes","Nose","Mouth"],correctAnswer:1,category:"Body",difficulty:"easy"},{id:"41",question:"What do we use to hear?",type:"multiple-choice",options:["Eyes","Ears","Nose","Hands"],correctAnswer:1,category:"Body",difficulty:"easy"},{id:"42",question:"How many fingers are on one hand?",type:"slider",correctAnswer:5,sliderRange:{min:1,max:10},category:"Body",difficulty:"easy"},{id:"43",question:"What do we use to smell?",type:"type-answer",correctAnswer:"nose",category:"Body",difficulty:"easy"},{id:"44",question:"What do we use to walk?",type:"type-answer",correctAnswer:"feet",category:"Body",difficulty:"easy"},{id:"45",question:"What is 15 + 25?",type:"multiple-choice",options:["35","40","45","50"],correctAnswer:1,category:"Math",difficulty:"medium"},{id:"46",question:"What is 8 Ã— 7?",type:"slider",correctAnswer:56,sliderRange:{min:40,max:80},category:"Math",difficulty:"medium"},{id:"47",question:"What is 100 Ã· 4?",type:"type-answer",correctAnswer:"25",category:"Math",difficulty:"medium"},{id:"48",question:"How many hours are in a day?",type:"slider",correctAnswer:24,sliderRange:{min:10,max:30},category:"Math",difficulty:"medium"},{id:"49",question:"What is the closest star to Earth?",type:"multiple-choice",options:["Moon","Sun","Mars","Venus"],correctAnswer:1,category:"Science",difficulty:"medium"},{id:"50",question:"How many bones do adults have?",type:"slider",correctAnswer:206,sliderRange:{min:100,max:300},category:"Science",difficulty:"medium"},{id:"51",question:"What gas do plants need to grow?",type:"type-answer",correctAnswer:"carbon dioxide",category:"Science",difficulty:"medium"},{id:"52",question:"What is the chemical symbol for water?",type:"type-answer",correctAnswer:"h2o",category:"Science",difficulty:"medium"},{id:"53",question:"What is the capital of England?",type:"multiple-choice",options:["Paris","London","Berlin","Rome"],correctAnswer:1,category:"Geography",difficulty:"medium"},{id:"54",question:"Which continent is Egypt in?",type:"multiple-choice",options:["Asia","Africa","Europe","Australia"],correctAnswer:1,category:"Geography",difficulty:"medium"},{id:"55",question:"What is the longest river in the world?",type:"type-answer",correctAnswer:"nile",category:"Geography",difficulty:"medium"},{id:"56",question:"What is the smallest country in the world?",type:"type-answer",correctAnswer:"vatican city",category:"Geography",difficulty:"medium"},{id:"60",question:"What is the square root of 144?",type:"slider",correctAnswer:12,sliderRange:{min:1,max:20},category:"Math",difficulty:"hard"},{id:"61",question:"What is 15% of 200?",type:"slider",correctAnswer:30,sliderRange:{min:10,max:50},category:"Math",difficulty:"hard"},{id:"62",question:"What is the value of Ï€ (pi) to two decimal places?",type:"type-answer",correctAnswer:"3.14",category:"Math",difficulty:"hard"},{id:"63",question:"What is the chemical symbol for gold?",type:"multiple-choice",options:["Go","Gd","Au","Ag"],correctAnswer:2,category:"Science",difficulty:"hard"},{id:"64",question:"What is the hardest natural substance?",type:"type-answer",correctAnswer:"diamond",category:"Science",difficulty:"hard"},{id:"65",question:"Who developed the theory of relativity?",type:"type-answer",correctAnswer:"einstein",category:"Science",difficulty:"hard"},{id:"66",question:"What mountain range contains Mount Everest?",type:"multiple-choice",options:["Alps","Andes","Himalayas","Rockies"],correctAnswer:2,category:"Geography",difficulty:"hard"},{id:"67",question:"What is the capital of Australia?",type:"type-answer",correctAnswer:"canberra",category:"Geography",difficulty:"hard"},{id:"70",question:"Who wrote Romeo and Juliet?",type:"multiple-choice",options:["Charles Dickens","William Shakespeare","Mark Twain","Jane Austen"],correctAnswer:1,category:"Literature",difficulty:"hard"},{id:"71",question:"In which year did World War II end?",type:"slider",correctAnswer:1945,sliderRange:{min:1940,max:1950},category:"History",difficulty:"hard"},{id:"72",question:'What does "WWW" stand for?',type:"type-answer",correctAnswer:"world wide web",category:"Technology",difficulty:"medium"},{id:"73",question:"What company makes the iPhone?",type:"type-answer",correctAnswer:"apple",category:"Technology",difficulty:"easy"},{id:"74",question:"How many players are on a soccer team on the field?",type:"slider",correctAnswer:11,sliderRange:{min:5,max:15},category:"Sports",difficulty:"medium"},{id:"75",question:"In which sport do you use a racket?",type:"type-answer",correctAnswer:"tennis",category:"Sports",difficulty:"easy"},{id:"76",question:"How many strings does a guitar usually have?",type:"slider",correctAnswer:6,sliderRange:{min:3,max:12},category:"Music",difficulty:"easy"},{id:"77",question:"What instrument has black and white keys?",type:"type-answer",correctAnswer:"piano",category:"Music",difficulty:"easy"},{id:"78",question:"What type of animal is Mickey Mouse?",type:"multiple-choice",options:["Cat","Dog","Mouse","Rabbit"],correctAnswer:2,category:"Entertainment",difficulty:"easy"},{id:"79",question:'In which movie would you hear "May the Force be with you"?',type:"type-answer",correctAnswer:"star wars",category:"Entertainment",difficulty:"medium"}],H=e=>{const t=Math.floor(Math.random()*F.length);return F[t]},U=({size:e="40",speed:t="2.5",color:s="#8b5cf6",className:r=""})=>S.jsx("div",{className:`flex items-center justify-center ${r}`,children:S.jsxs("div",{className:"leapfrog-loader",style:{"--size":`${e}px`,"--speed":`${t}s`,"--color":s,width:`${e}px`,height:`${e}px`,position:"relative",display:"inline-block"},children:[S.jsx("div",{className:"leapfrog-dot leapfrog-dot-1"}),S.jsx("div",{className:"leapfrog-dot leapfrog-dot-2"}),S.jsx("div",{className:"leapfrog-dot leapfrog-dot-3"})]})}),_=({enemy:e,playerStats:y,onAttack:g,combatLog:b,gameMode:f,knowledgeStreak:w,hasUsedRevival:j=!1,adventureSkills:N,totems:v=0,damageStreak:A,onUseSkipCard:k,onUseTotem:W})=>{var M,q,C,R,E;const[D,T]=n.useState(null),[B,P]=n.useState(null),[$,G]=n.useState(""),[I,O]=n.useState(0),[L,F]=n.useState([]),[_,z]=n.useState(!1),[K,V]=n.useState(8),[Y,J]=n.useState(!1),[Z,Q]=n.useState(null);let X="blitz"===f.current||"bloodlust"===f.current?5:8;(null==(M=null==N?void 0:N.skillEffects)?void 0:M.timeSlowActive)&&(X=Math.floor(1.5*X)),n.useEffect(()=>{var n,o;let c=H(e.zone);if((null==(n=null==N?void 0:N.skillEffects)?void 0:n.truthLiesActive)&&"multiple-choice"===c.type&&c.options){const e=c.correctAnswer,n=c.options.map((e,t)=>t).filter(t=>t!==e),o=n[Math.floor(Math.random()*n.length)],m=c.options.filter((e,t)=>t!==o),x=e>o?e-1:e;d=((e,t)=>{for(var s in t||(t={}))a.call(t,s)&&i(e,s,t[s]);if(r)for(var s of r(t))l.call(t,s)&&i(e,s,t[s]);return e})({},c),c=t(d,s({options:m,correctAnswer:x}))}var d;T(c),P(null),G(""),O((null==(o=c.sliderRange)?void 0:o.min)||0),F(c.wordsToReorder||[]),V(X),J(!1),Q(null)},[e,X,null==N?void 0:N.skillEffects.truthLiesActive]),n.useEffect(()=>{if(!D||_||Y)return;const e=setInterval(()=>{V(e=>e<=1?(ee(null),0):e-1)},1e3);return()=>clearInterval(e)},[D,_,Y]);const ee=t=>{if(_||!D)return;let s;switch(z(!0),D.type){case"multiple-choice":P(t),s=null!=t?t:-1;break;case"slider":s=I;break;case"reorder-words":s=L.map(e=>D.wordsToReorder.indexOf(e));break;default:s=$}const r=((e,t)=>{if("multiple-choice"===e.type)return t===e.correctAnswer;if("slider"===e.type){const s=1,r=Number(e.correctAnswer),a=Number(t);return Math.abs(a-r)<=s}return String(t).toLowerCase().trim()===String(e.correctAnswer).toLowerCase().trim()})(D,s);Q(r),J(!0),setTimeout(()=>{var t;g(r,D.category);const s=H(e.zone);T(s),P(null),G(""),O((null==(t=s.sliderRange)?void 0:t.min)||0),F(s.wordsToReorder||[]),z(!1),V(X),J(!1),Q(null)},2e3)};if(!D)return S.jsx("div",{className:"bg-gradient-to-br from-red-900/80 via-purple-900/80 to-black/80 p-6 rounded-xl shadow-2xl backdrop-blur-sm border border-red-500/50",children:S.jsxs("div",{className:"text-center py-8",children:[S.jsx(U,{size:"48",color:"#a855f7",className:"mb-4"}),S.jsx("p",{className:"text-white text-lg",children:"Loading question..."})]})});return S.jsxs("div",{className:"bg-gradient-to-br from-red-900/80 via-purple-900/80 to-black/80 p-6 rounded-xl shadow-2xl backdrop-blur-sm border border-red-500/50",children:[S.jsxs("div",{className:"mb-6",children:[S.jsxs("div",{className:"flex items-center justify-between mb-4",children:[S.jsxs("div",{className:"flex items-center gap-3",children:[S.jsx(o,{className:"w-6 h-6 text-purple-400"}),S.jsx("h3",{className:"text-white font-semibold text-lg",children:"Knowledge Challenge"})]}),S.jsxs("div",{className:"flex items-center gap-3",children:[S.jsx(c,{className:"w-5 h-5 text-yellow-400"}),S.jsxs("span",{className:"font-bold text-lg px-3 py-1 rounded-lg "+(K<=3?"text-red-400 animate-pulse bg-red-900/30":"text-yellow-400 bg-yellow-900/30"),children:[K,"s"]})]})]}),S.jsxs("div",{className:`bg-black/50 p-6 rounded-xl border-2 ${(e=>{switch(e){case"easy":return"border-green-400";case"medium":return"border-yellow-400";case"hard":return"border-red-400";default:return"border-gray-400"}})(D.difficulty)} mb-4`,children:[S.jsxs("div",{className:"flex items-center justify-between mb-4",children:[S.jsx("span",{className:"text-sm text-gray-400 bg-black/30 px-3 py-1 rounded-lg",children:D.category}),S.jsxs("div",{className:"flex items-center gap-3",children:[S.jsx("span",{className:`text-sm font-semibold ${(e=>{switch(e){case"easy":return"text-green-400";case"medium":return"text-yellow-400";case"hard":return"text-red-400";default:return"text-gray-400"}})(D.difficulty)} bg-black/30 px-3 py-1 rounded-lg`,children:D.difficulty.toUpperCase()}),S.jsx("span",{className:"text-xs text-purple-400 bg-black/30 px-3 py-1 rounded-lg",children:"multiple-choice"===D.type?"Multiple Choice":"slider"===D.type?"Slider":"reorder-words"===D.type?"Reorder Words":"Type Answer"}),v>0&&S.jsxs("span",{className:"text-cyan-400 text-xs bg-cyan-900/30 px-2 py-1 rounded-full",children:["ðŸ—¿ ",v," Totems"]})]})]}),S.jsx("p",{className:"text-white font-semibold text-lg sm:text-xl mb-6 leading-relaxed text-center",children:D.question}),(()=>{var e,t,s,r,a;switch(D.type){case"multiple-choice":return S.jsx("div",{className:"grid grid-cols-1 gap-3",children:null==(e=D.options)?void 0:e.map((e,t)=>{let s="bg-gray-700 hover:bg-gray-600 text-white border border-gray-600 typing-interface";return Y?s=t===D.correctAnswer?"bg-green-600 text-white border border-green-500":t===B&&B!==D.correctAnswer?"bg-red-600 text-white border border-red-500":"bg-gray-600 text-gray-400 border border-gray-600":B===t&&(s="bg-blue-600 text-white border border-blue-500"),S.jsxs("button",{onClick:()=>ee(t),disabled:_||Y,className:`p-4 rounded-lg font-semibold transition-all duration-200 text-left ${s} ${_||Y?"cursor-not-allowed":"hover:scale-102 transform"}`,children:[S.jsxs("span",{className:"font-bold mr-3 text-lg",children:[String.fromCharCode(65+t),"."]}),e]},t)})});case"slider":return S.jsxs("div",{className:"space-y-4",children:[S.jsx("div",{className:"text-center",children:S.jsx("span",{className:"text-white text-2xl font-bold",children:I})}),S.jsx("input",{type:"range",min:(null==(t=D.sliderRange)?void 0:t.min)||0,max:(null==(s=D.sliderRange)?void 0:s.max)||100,value:I,onChange:e=>O(Number(e.target.value)),disabled:_||Y,className:"w-full h-3 bg-gray-700 rounded-lg appearance-none cursor-pointer slider typing-interface"}),S.jsxs("div",{className:"flex justify-between text-sm text-gray-400",children:[S.jsx("span",{children:(null==(r=D.sliderRange)?void 0:r.min)||0}),S.jsx("span",{children:(null==(a=D.sliderRange)?void 0:a.max)||100})]}),S.jsx("button",{onClick:()=>ee(null),disabled:_||Y,className:"w-full py-3 rounded-lg font-semibold transition-all duration-200 text-lg "+(_||Y?"bg-gray-600 text-gray-400 cursor-not-allowed":"bg-purple-600 text-white hover:bg-purple-500 transform hover:scale-105"),children:"Submit Answer"})]});case"reorder-words":return S.jsxs("div",{className:"space-y-4",children:[D.hint&&S.jsx("div",{className:"bg-blue-900/30 p-3 rounded-lg border border-blue-500/50",children:S.jsxs("p",{className:"text-blue-300 text-sm",children:["ðŸ’¡ Hint: ",D.hint]})}),S.jsx("div",{className:"flex flex-wrap gap-2 justify-center",children:L.map((e,t)=>S.jsx("div",{draggable:!0,onDragStart:e=>e.dataTransfer.setData("text/plain",t.toString()),onDragOver:e=>e.preventDefault(),onDrop:e=>{e.preventDefault();((e,t)=>{const s=[...L],[r]=s.splice(e,1);s.splice(t,0,r),F(s)})(parseInt(e.dataTransfer.getData("text/plain")),t)},className:"bg-purple-600 text-white px-4 py-2 rounded-lg cursor-move hover:bg-purple-500 transition-colors typing-interface",children:e},t))}),S.jsx("button",{onClick:()=>ee(null),disabled:_||Y,className:"w-full py-3 rounded-lg font-semibold transition-all duration-200 text-lg "+(_||Y?"bg-gray-600 text-gray-400 cursor-not-allowed":"bg-purple-600 text-white hover:bg-purple-500 transform hover:scale-105"),children:"Submit Order"})]});default:return S.jsxs("div",{className:"space-y-4",children:[S.jsx("input",{type:"text",value:$,onChange:e=>G(e.target.value),onKeyPress:e=>"Enter"===e.key&&!_&&!Y&&ee(null),disabled:_||Y,placeholder:"Type your answer here...",className:"w-full p-4 bg-gray-800 text-white rounded-lg border border-gray-600 focus:border-purple-500 focus:outline-none text-lg typing-interface"}),S.jsx("button",{onClick:()=>ee(null),disabled:_||Y||!$.trim(),className:"w-full py-3 rounded-lg font-semibold transition-all duration-200 text-lg "+(_||Y||!$.trim()?"bg-gray-600 text-gray-400 cursor-not-allowed":"bg-purple-600 text-white hover:bg-purple-500 transform hover:scale-105"),children:"Submit Answer"})]})}})(),"skip_card"===(null==(q=null==N?void 0:N.selectedSkill)?void 0:q.type)&&!(null==(C=null==N?void 0:N.skillEffects)?void 0:C.skipCardUsed)&&S.jsx("div",{className:"mt-4",children:S.jsxs("button",{onClick:()=>{var t;k&&"skip_card"===(null==(t=null==N?void 0:N.selectedSkill)?void 0:t.type)&&!N.skillEffects.skipCardUsed&&D&&(k(),"multiple-choice"===D.type?ee(D.correctAnswer):(z(!0),Q(!0),J(!0),setTimeout(()=>{var t;g(!0,D.category);const s=H(e.zone);T(s),P(null),G(""),O((null==(t=s.sliderRange)?void 0:t.min)||0),F(s.wordsToReorder||[]),z(!1),V(X),J(!1),Q(null)},2e3)))},className:"w-full py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-500 transition-all flex items-center gap-2 justify-center",children:[S.jsx(d,{className:"w-4 h-4"}),"Use Skip Card"]})})]}),Y&&S.jsxs("div",{className:"text-center p-4 rounded-xl "+(Z?"bg-green-900/50 border border-green-500":"bg-red-900/50 border border-red-500"),children:[S.jsx("p",{className:"font-bold text-lg "+(Z?"text-green-400":"text-red-400"),children:Z?"ðŸŽ‰ Correct! You deal damage!":"âŒ Wrong! The enemy attacks you!"}),!Z&&S.jsxs("p",{className:"text-gray-300 text-sm mt-2",children:["Correct answer: ","multiple-choice"===D.type?`${String.fromCharCode(65+D.correctAnswer)}. ${null==(R=D.options)?void 0:R[D.correctAnswer]}`:D.correctAnswer]})]})]}),S.jsxs("div",{className:"text-center mb-6",children:[S.jsxs("div",{className:"flex items-center justify-center gap-3 mb-3",children:[S.jsxs("h2",{className:"text-2xl sm:text-3xl font-bold text-white",children:["Combat - Zone ",e.zone]}),(()=>{switch(f.current){case"blitz":return S.jsx(x,{className:"w-5 h-5 text-yellow-400 animate-pulse"});case"bloodlust":return S.jsx(p,{className:"w-5 h-5 text-red-400 animate-pulse"});case"survival":return S.jsx(h,{className:"w-5 h-5 text-green-400 animate-pulse"});default:return S.jsx(c,{className:"w-5 h-5 text-blue-400"})}})()]}),S.jsx("p",{className:"text-red-300 text-xl font-semibold",children:e.name}),S.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-4 mt-4",children:[S.jsxs("span",{className:`px-3 py-1 rounded-lg ${(()=>{switch(f.current){case"blitz":return"bg-yellow-600";case"bloodlust":return"bg-red-600";case"survival":return"bg-green-600";default:return"bg-blue-600"}})()} text-white font-semibold text-sm`,children:[f.current.toUpperCase()," MODE","survival"===f.current&&" (+100% rewards)"]}),w.current>0&&S.jsxs("span",{className:"text-yellow-300 flex items-center gap-2 bg-yellow-900/30 px-3 py-1 rounded-lg",children:["ðŸ”¥ ",w.current," Streak (",Math.round(100*(w.multiplier-1)),"% bonus)"]}),A&&A.current>0&&S.jsxs("span",{className:"text-red-300 flex items-center gap-2 bg-red-900/30 px-3 py-1 rounded-lg",children:["ðŸ’¥ ",A.current,"x Damage (",Math.round(100*(A.multiplier-1)),"% bonus)"]}),!j&&S.jsxs("span",{className:"text-green-300 flex items-center gap-2 bg-green-900/30 px-3 py-1 rounded-lg",children:[S.jsx(m,{className:"w-4 h-4"}),"Revival Available"]}),(null==N?void 0:N.selectedSkill)&&S.jsxs("span",{className:"text-purple-300 flex items-center gap-2 bg-purple-900/30 px-3 py-1 rounded-lg",children:[S.jsx(x,{className:"w-4 h-4"}),null==(E=null==N?void 0:N.selectedSkill)?void 0:E.name]})]})]}),S.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6 mb-6",children:[S.jsxs("div",{className:"bg-black/40 p-4 rounded-xl border border-green-500/30",children:[S.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[S.jsx(u,{className:"w-5 h-5 text-red-400"}),S.jsx("span",{className:"text-white font-semibold",children:"You"}),!j&&S.jsx("span",{className:"text-green-400 text-xs bg-green-900/30 px-2 py-1 rounded-full",children:"ðŸ’– Revival Ready"})]}),S.jsx("div",{className:"w-full bg-gray-700 rounded-full h-4",children:S.jsx("div",{className:"bg-gradient-to-r from-green-500 to-green-400 h-4 rounded-full transition-all duration-300",style:{width:y.hp/y.maxHp*100+"%"}})}),S.jsxs("p",{className:"text-sm text-gray-300 mt-2 text-center",children:[y.hp,"/",y.maxHp]}),S.jsxs("div",{className:"flex justify-center gap-4 mt-3 text-sm",children:[S.jsxs("span",{className:"text-orange-400 flex items-center gap-1",children:[S.jsx(p,{className:"w-4 h-4"}),y.atk,A&&A.current>0&&S.jsxs("span",{className:"text-red-400 font-bold",children:["(x",A.multiplier.toFixed(1),")"]})]}),S.jsxs("span",{className:"text-blue-400 flex items-center gap-1",children:[S.jsx(h,{className:"w-4 h-4"}),y.def]})]}),y.hp<=0&&v>0&&W&&S.jsx("div",{className:"mt-3",children:S.jsxs("button",{onClick:W,className:"w-full py-2 bg-cyan-600 text-white rounded-lg hover:bg-cyan-500 transition-all flex items-center gap-2 justify-center text-sm",children:[S.jsx("span",{className:"text-lg",children:"ðŸ—¿"}),"Use Totem to Revive"]})})]}),S.jsxs("div",{className:"bg-black/40 p-4 rounded-xl border border-red-500/30",children:[S.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[S.jsx(u,{className:"w-5 h-5 text-red-400"}),S.jsx("span",{className:"text-white font-semibold",children:e.name})]}),S.jsx("div",{className:"w-full bg-gray-700 rounded-full h-4",children:S.jsx("div",{className:"bg-gradient-to-r from-red-500 to-red-400 h-4 rounded-full transition-all duration-300",style:{width:e.hp/e.maxHp*100+"%"}})}),S.jsxs("p",{className:"text-sm text-gray-300 mt-2 text-center",children:[e.hp,"/",e.maxHp]}),S.jsxs("div",{className:"flex justify-center gap-4 mt-3 text-sm",children:[S.jsxs("span",{className:"text-orange-400 flex items-center gap-1",children:[S.jsx(p,{className:"w-4 h-4"}),e.atk]}),S.jsxs("span",{className:"text-blue-400 flex items-center gap-1",children:[S.jsx(h,{className:"w-4 h-4"}),e.def]})]})]})]}),S.jsxs("div",{className:"text-center mt-4 space-y-2",children:[S.jsxs("p",{className:"text-sm text-gray-300",children:["Answer correctly to ",S.jsx("span",{className:"text-green-400 font-semibold",children:"deal damage"}),"!"]}),S.jsxs("p",{className:"text-sm font-semibold "+("blitz"===f.current||"bloodlust"===f.current?"text-yellow-400":"text-blue-400"),children:["â° You have ",X," seconds to answer!"]}),!j&&S.jsx("p",{className:"text-green-400 text-sm font-semibold",children:"ðŸ’– Don't worry - you get one free revival if you die!"})]}),S.jsxs("div",{className:"bg-black/50 rounded-xl p-4 max-h-40 overflow-y-auto border border-gray-600/50 mt-6",children:[S.jsx("h4",{className:"text-white font-semibold mb-3 text-lg",children:"Combat Log"}),S.jsx("div",{className:"space-y-2",children:b.slice(-6).map((e,t)=>S.jsx("p",{className:"text-sm text-gray-300 leading-relaxed",children:e},t))})]}),S.jsx("style",{jsx:!0,children:"\n        .slider::-webkit-slider-thumb {\n          appearance: none;\n          height: 20px;\n          width: 20px;\n          border-radius: 50%;\n          background: #8b5cf6;\n          cursor: pointer;\n        }\n        \n        .slider::-moz-range-thumb {\n          height: 20px;\n          width: 20px;\n          border-radius: 50%;\n          background: #8b5cf6;\n          cursor: pointer;\n          border: none;\n        }\n      "})]})},z=({coins:e,gems:t,totems:s,onOpenChest:r,onDiscardItem:a,onExchangeCoinsToGems:l,onSellTotem:i,isPremium:o})=>{var c;const[d,m]=n.useState(null),[x,u]=n.useState(!1),[p,h]=n.useState(!1),[w,j]=n.useState(5),N=e=>{return t=null,s=null,a=function*(){u(!0),m(null),setTimeout(()=>{const t=r(e);m(t),u(!1),t&&h(!0)},1500)},new Promise((e,r)=>{var l=e=>{try{n(a.next(e))}catch(t){r(t)}},i=e=>{try{n(a.throw(e))}catch(t){r(t)}},n=t=>t.done?e(t.value):Promise.resolve(t.value).then(l,i);n((a=a.apply(t,s)).next())});var t,s,a},v=()=>{h(!1),m(null)};return S.jsxs("div",{className:"bg-gradient-to-br from-yellow-900 via-orange-900 to-red-900 p-4 sm:p-6 rounded-lg shadow-2xl",children:[S.jsxs("div",{className:"text-center mb-4 sm:mb-6",children:[S.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-white mb-2",children:"Treasure Shop"}),S.jsxs("div",{className:"flex items-center justify-center gap-4 text-yellow-300",children:[S.jsx(y,{className:"w-4 h-4 sm:w-5 sm:h-5"}),S.jsxs("span",{className:"font-semibold text-sm sm:text-base",children:[e," Coins"]}),S.jsx(g,{className:"w-4 h-4 sm:w-5 sm:h-5 text-purple-400"}),S.jsxs("span",{className:"font-semibold text-sm sm:text-base text-purple-400",children:[t," Gems"]})]}),o&&S.jsx("div",{className:"mt-2 px-3 py-1 bg-gradient-to-r from-yellow-600 to-yellow-500 rounded-full inline-block",children:S.jsx("span",{className:"text-white font-semibold text-xs",children:"ðŸ‘‘ PREMIUM MEMBER"})})]}),S.jsxs("div",{className:"bg-black/30 p-4 rounded-lg border border-blue-500/30 mb-6",children:[S.jsx("h3",{className:"text-white font-semibold mb-3 text-center",children:"ðŸ’± Currency Exchange"}),S.jsx("div",{className:"space-y-3",children:S.jsxs("div",{className:"text-center",children:[S.jsx("p",{className:"text-blue-300 text-sm mb-2",children:"Exchange Rate: 5 Coins = 1 Gem"}),S.jsxs("div",{className:"flex items-center justify-center gap-2 mb-3",children:[S.jsx("input",{type:"number",min:"5",step:"5",value:w,onChange:e=>j(Math.max(5,parseInt(e.target.value)||5)),className:"w-20 p-2 bg-gray-800 text-white rounded border border-gray-600 text-center"}),S.jsxs("span",{className:"text-white",children:["coins â†’ ",Math.floor(w/5)," gems"]})]}),S.jsx("button",{onClick:()=>l(w),disabled:e<w||w<5,className:"px-4 py-2 rounded font-semibold transition-all "+(e>=w&&w>=5?"bg-blue-600 text-white hover:bg-blue-500":"bg-gray-600 text-gray-400 cursor-not-allowed"),children:"Exchange"})]})})]}),s>0&&S.jsxs("div",{className:"bg-black/30 p-4 rounded-lg border border-cyan-500/30 mb-6",children:[S.jsx("h3",{className:"text-white font-semibold mb-3 text-center",children:"ðŸ—¿ Totem Shop"}),S.jsxs("div",{className:"text-center",children:[S.jsxs("p",{className:"text-cyan-300 text-sm mb-2",children:["You have ",s," totems"]}),S.jsx("p",{className:"text-gray-300 text-xs mb-3",children:"Totems can be sold for 500 coins each or used for revival"}),S.jsx("button",{onClick:i,disabled:0===s,className:"px-4 py-2 rounded font-semibold transition-all "+(s>0?"bg-cyan-600 text-white hover:bg-cyan-500":"bg-gray-600 text-gray-400 cursor-not-allowed"),children:"Sell 1 Totem (500 coins)"})]})]}),S.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4 mb-4 sm:mb-6",children:[{name:"Basic Chest",cost:100,description:"Common rewards",rarityInfo:"60% Common, 30% Rare, 8% Epic, 2% Legendary"},{name:"Rare Chest",cost:200,description:"Better rewards",rarityInfo:"50% Rare, 35% Epic, 13% Legendary, 2% Mythical"},{name:"Epic Chest",cost:400,description:"Great rewards",rarityInfo:"60% Epic, 30% Legendary, 10% Mythical"},{name:"Legendary Chest",cost:1e3,description:"Amazing rewards",rarityInfo:"70% Legendary, 30% Mythical"}].map((t,s)=>S.jsxs("div",{className:"bg-black/30 p-3 sm:p-4 rounded-lg border border-yellow-600/30",children:[S.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 mb-3",children:[S.jsx(b,{className:"w-5 h-5 sm:w-6 sm:h-6 text-yellow-400"}),S.jsxs("div",{className:"flex-1 min-w-0",children:[S.jsx("h3",{className:"text-white font-semibold text-sm sm:text-base truncate",children:t.name}),S.jsx("p",{className:"text-xs sm:text-sm text-gray-300",children:t.description}),S.jsx("p",{className:"text-xs text-gray-400 mt-1",children:t.rarityInfo})]})]}),S.jsxs("div",{className:"flex items-center justify-between",children:[S.jsxs("div",{className:"flex items-center gap-1 text-yellow-300",children:[S.jsx(y,{className:"w-3 h-3 sm:w-4 sm:h-4"}),S.jsx("span",{className:"font-semibold text-sm sm:text-base",children:t.cost})]}),S.jsx("button",{onClick:()=>N(t.cost),disabled:e<t.cost||x,className:"px-3 sm:px-4 py-1 sm:py-2 rounded font-semibold transition-all duration-200 text-xs sm:text-sm "+(e>=t.cost&&!x?"bg-gradient-to-r from-yellow-600 to-yellow-500 text-white hover:from-yellow-500 hover:to-yellow-400 hover:scale-105":"bg-gray-600 text-gray-400 cursor-not-allowed"),children:x?"Opening...":"Open"})]})]},t.name))}),x&&S.jsxs("div",{className:"text-center py-6 sm:py-8",children:[S.jsx(U,{size:"32",color:"#facc15",className:"mb-3"}),S.jsx("p",{className:"text-white font-semibold text-sm sm:text-base",children:"Opening chest..."}),S.jsx("p",{className:"text-gray-300 text-xs sm:text-sm mt-1",children:"Discovering treasures..."})]}),p&&d&&S.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4",children:S.jsxs("div",{className:"bg-gradient-to-br from-green-900 to-teal-900 p-4 sm:p-6 rounded-lg border border-green-500/50 max-w-md w-full max-h-[80vh] overflow-y-auto",children:[S.jsxs("div",{className:"flex justify-between items-center mb-4",children:[S.jsx("h3",{className:"text-white font-bold text-lg sm:text-xl",children:"ðŸŽ‰ Chest Rewards!"}),S.jsx("button",{onClick:v,className:"text-gray-400 hover:text-white transition-colors",children:S.jsx(f,{className:"w-5 h-5"})})]}),S.jsxs("div",{className:"space-y-3",children:[S.jsx("div",{className:"bg-purple-900/50 p-3 rounded-lg border border-purple-500/50",children:S.jsxs("div",{className:"flex items-center justify-center gap-2",children:[S.jsx(g,{className:"w-5 h-5 text-purple-400"}),S.jsxs("span",{className:"text-white font-semibold",children:["Bonus: ",Math.floor(10*Math.random())+5," Gems"]})]})}),"gems"===d.type?S.jsx("div",{className:"bg-purple-900/50 p-3 rounded-lg border border-purple-500/50",children:S.jsxs("div",{className:"flex items-center justify-center gap-2",children:[S.jsx(g,{className:"w-6 h-6 text-purple-400"}),S.jsxs("span",{className:"text-white font-semibold text-lg",children:[d.gems," Gems"]})]})}):null==(c=d.items)?void 0:c.map((e,t)=>S.jsx("div",{className:`p-3 rounded-lg border-2 ${O(e.rarity)} ${L(e.rarity)} bg-black/40`,children:S.jsxs("div",{className:"text-center",children:[S.jsx("div",{className:"flex items-center justify-center gap-2 mb-2",children:S.jsx("p",{className:`font-bold text-sm ${I(e.rarity)}`,children:e.rarity.toUpperCase()})}),S.jsx("p",{className:"text-white font-semibold text-base mb-1",children:e.name}),S.jsx("p",{className:"text-gray-300 text-sm mb-2",children:"weapon"===d.type?`ATK: ${e.baseAtk}`:`DEF: ${e.baseDef}`}),S.jsxs("p",{className:"text-gray-400 text-xs mb-3",children:["Durability: ",e.durability,"/",e.maxDurability]}),S.jsxs("div",{className:"flex items-center justify-center gap-4 text-xs mb-3",children:[S.jsxs("div",{className:"flex items-center gap-1 text-yellow-400",children:[S.jsx(y,{className:"w-3 h-3"}),S.jsxs("span",{children:["Sell: ",e.sellPrice]})]}),S.jsxs("div",{className:"flex items-center gap-1 text-purple-400",children:[S.jsx(g,{className:"w-3 h-3"}),S.jsxs("span",{children:["Upgrade: ",e.upgradeCost]})]})]})]})},t))]}),S.jsx("button",{onClick:v,className:"w-full mt-4 py-2 bg-gradient-to-r from-green-600 to-teal-600 text-white font-semibold rounded-lg hover:from-green-500 hover:to-teal-500 transition-all",children:"Awesome!"})]})})]})},K=({inventory:e,gems:t,onEquipWeapon:s,onEquipArmor:r,onUpgradeWeapon:a,onUpgradeArmor:l,onSellWeapon:i,onSellArmor:o,onUpgradeRelic:c,onEquipRelic:d,onUnequipRelic:m,onSellRelic:x})=>{const[u,b]=n.useState("weapons"),f=(e,t)=>{const s=e/t;return s>.7?"text-green-400":s>.3?"text-yellow-400":"text-red-400"},N=(e,t)=>{const s=e/t;return s>.7?"bg-green-500":s>.3?"bg-yellow-500":"bg-red-500"},v=(n,c)=>S.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-3 sm:gap-4 max-h-64 sm:max-h-80 overflow-y-auto",children:n.map(n=>{var d,m,x,u,p,h,b,v,A,k;return S.jsxs("div",{className:`bg-black/40 p-3 sm:p-4 rounded-lg border-2 ${O(n.rarity)} ${L(n.rarity)} ${n.isChroma?"animate-pulse":""}`,children:[S.jsx("div",{className:"flex justify-between items-start mb-3",children:S.jsxs("div",{className:"flex-1 min-w-0",children:[S.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[S.jsx("p",{className:`font-semibold text-sm sm:text-base truncate ${I(n.rarity)}`,children:n.name}),n.isChroma&&S.jsx(w,{className:"w-4 h-4 text-red-400 animate-pulse"}),n.isEnchanted&&S.jsx(j,{className:"w-4 h-4 text-cyan-400 animate-pulse"})]}),S.jsx("p",{className:"text-white text-sm sm:text-base mb-1",children:"weapon"===c?`ATK: ${n.baseAtk+10*(n.level-1)}`:`DEF: ${n.baseDef+5*(n.level-1)}`}),S.jsxs("div",{className:"flex items-center gap-1 text-xs sm:text-sm text-gray-300 mb-1",children:[S.jsx(j,{className:"w-3 h-3 sm:w-4 sm:h-4"}),"Level ",n.level]}),S.jsxs("div",{className:"mb-2",children:[S.jsxs("div",{className:"flex justify-between text-xs mb-1",children:[S.jsx("span",{className:"text-gray-300",children:"Durability"}),S.jsxs("span",{className:f(n.durability,n.maxDurability),children:[n.durability,"/",n.maxDurability]})]}),S.jsx("div",{className:"w-full bg-gray-700 rounded-full h-1",children:S.jsx("div",{className:`h-1 rounded-full transition-all duration-300 ${N(n.durability,n.maxDurability)}`,style:{width:n.durability/n.maxDurability*100+"%"}})})]}),S.jsxs("div",{className:"flex items-center gap-1 text-xs sm:text-sm text-yellow-400",children:[S.jsx(y,{className:"w-3 h-3 sm:w-4 sm:h-4"}),"Sell: ",n.sellPrice]})]})}),S.jsxs("div",{className:"flex flex-col gap-2",children:[S.jsx("button",{onClick:()=>"weapon"===c?s(n):r(n),disabled:("weapon"===c?null==(d=e.currentWeapon)?void 0:d.id:null==(m=e.currentArmor)?void 0:m.id)===n.id,className:"px-3 py-2 text-sm rounded font-semibold transition-all "+(("weapon"===c?null==(x=e.currentWeapon)?void 0:x.id:null==(u=e.currentArmor)?void 0:u.id)===n.id?"bg-gray-600 text-gray-400 cursor-not-allowed":"weapon"===c?"bg-orange-600 text-white hover:bg-orange-500":"bg-blue-600 text-white hover:bg-blue-500"),children:("weapon"===c?null==(p=e.currentWeapon)?void 0:p.id:null==(h=e.currentArmor)?void 0:h.id)===n.id?"Equipped":"Equip"}),S.jsxs("div",{className:"flex gap-2",children:[S.jsxs("button",{onClick:()=>"weapon"===c?a(n.id):l(n.id),disabled:t<n.upgradeCost,className:"flex-1 px-2 py-1 text-xs rounded font-semibold transition-all flex items-center gap-1 justify-center "+(t>=n.upgradeCost?"bg-purple-600 text-white hover:bg-purple-500":"bg-gray-600 text-gray-400 cursor-not-allowed"),children:[S.jsx(g,{className:"w-3 h-3"}),n.upgradeCost]}),S.jsx("button",{onClick:()=>"weapon"===c?i(n.id):o(n.id),disabled:("weapon"===c?null==(b=e.currentWeapon)?void 0:b.id:null==(v=e.currentArmor)?void 0:v.id)===n.id,className:"flex-1 px-2 py-1 text-xs rounded font-semibold transition-all "+(("weapon"===c?null==(A=e.currentWeapon)?void 0:A.id:null==(k=e.currentArmor)?void 0:k.id)===n.id?"bg-gray-600 text-gray-400 cursor-not-allowed":"bg-red-600 text-white hover:bg-red-500"),children:"Sell"})]})]})]},n.id)})});return S.jsxs("div",{className:"bg-gradient-to-br from-indigo-900 via-purple-900 to-pink-900 p-4 sm:p-6 rounded-lg shadow-2xl",children:[S.jsxs("div",{className:"text-center mb-4 sm:mb-6",children:[S.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-white mb-2",children:"Inventory"}),S.jsxs("div",{className:"flex items-center justify-center gap-2 text-purple-300",children:[S.jsx(g,{className:"w-4 h-4 sm:w-5 sm:h-5"}),S.jsxs("span",{className:"font-semibold text-sm sm:text-base",children:[t," Gems"]})]})]}),S.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-3 sm:gap-4 mb-4 sm:mb-6",children:[S.jsxs("div",{className:"bg-black/30 p-3 sm:p-4 rounded-xl border border-orange-500/50",children:[S.jsxs("h3",{className:"text-white font-semibold mb-3 flex items-center gap-2 text-sm sm:text-base",children:[S.jsx(p,{className:"w-4 h-4 sm:w-5 sm:h-5 text-orange-400"}),"Equipped Weapon"]}),e.currentWeapon?S.jsxs("div",{className:"space-y-2",children:[S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx("p",{className:`font-semibold text-sm sm:text-base ${I(e.currentWeapon.rarity)}`,children:e.currentWeapon.name}),e.currentWeapon.isChroma&&S.jsx(w,{className:"w-4 h-4 text-red-400 animate-pulse"}),e.currentWeapon.isEnchanted&&S.jsx(j,{className:"w-4 h-4 text-cyan-400 animate-pulse"})]}),S.jsxs("p",{className:"text-white text-sm sm:text-base",children:["ATK: ",e.currentWeapon.baseAtk+10*(e.currentWeapon.level-1)]}),S.jsxs("p",{className:"text-gray-300 text-xs sm:text-sm",children:["Level ",e.currentWeapon.level]}),S.jsxs("div",{children:[S.jsxs("div",{className:"flex justify-between text-xs mb-1",children:[S.jsx("span",{className:"text-gray-300",children:"Durability"}),S.jsxs("span",{className:f(e.currentWeapon.durability,e.currentWeapon.maxDurability),children:[e.currentWeapon.durability,"/",e.currentWeapon.maxDurability]})]}),S.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2",children:S.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${N(e.currentWeapon.durability,e.currentWeapon.maxDurability)}`,style:{width:e.currentWeapon.durability/e.currentWeapon.maxDurability*100+"%"}})})]})]}):S.jsx("p",{className:"text-gray-400 text-sm",children:"No weapon equipped"})]}),S.jsxs("div",{className:"bg-black/30 p-3 sm:p-4 rounded-xl border border-blue-500/30",children:[S.jsxs("h3",{className:"text-white font-semibold mb-3 flex items-center gap-2 text-sm sm:text-base",children:[S.jsx(h,{className:"w-4 h-4 sm:w-5 sm:h-5 text-blue-400"}),"Equipped Armor"]}),e.currentArmor?S.jsxs("div",{className:"space-y-2",children:[S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx("p",{className:`font-semibold text-sm sm:text-base ${I(e.currentArmor.rarity)}`,children:e.currentArmor.name}),e.currentArmor.isChroma&&S.jsx(w,{className:"w-4 h-4 text-red-400 animate-pulse"}),e.currentArmor.isEnchanted&&S.jsx(j,{className:"w-4 h-4 text-cyan-400 animate-pulse"})]}),S.jsxs("p",{className:"text-white text-sm sm:text-base",children:["DEF: ",e.currentArmor.baseDef+5*(e.currentArmor.level-1)]}),S.jsxs("p",{className:"text-gray-300 text-xs sm:text-sm",children:["Level ",e.currentArmor.level]}),S.jsxs("div",{children:[S.jsxs("div",{className:"flex justify-between text-xs mb-1",children:[S.jsx("span",{className:"text-gray-300",children:"Durability"}),S.jsxs("span",{className:f(e.currentArmor.durability,e.currentArmor.maxDurability),children:[e.currentArmor.durability,"/",e.currentArmor.maxDurability]})]}),S.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2",children:S.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${N(e.currentArmor.durability,e.currentArmor.maxDurability)}`,style:{width:e.currentArmor.durability/e.currentArmor.maxDurability*100+"%"}})})]})]}):S.jsx("p",{className:"text-gray-400 text-sm",children:"No armor equipped"})]})]}),S.jsx("div",{className:"flex gap-2 mb-4",children:[{key:"weapons",label:"Weapons",count:e.weapons.length,icon:p},{key:"armor",label:"Armor",count:e.armor.length,icon:h},{key:"relics",label:"Relics",count:e.relics.length,icon:h}].map(({key:e,label:t,count:s,icon:r})=>S.jsxs("button",{onClick:()=>b(e),className:"flex items-center gap-2 px-3 py-2 rounded-lg text-sm font-semibold transition-all "+(u===e?"bg-purple-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"),children:[S.jsx(r,{className:"w-4 h-4"}),S.jsx("span",{className:"hidden sm:inline",children:t}),S.jsx("span",{className:"bg-black/30 px-2 py-0.5 rounded-full text-xs",children:s})]},e))}),"weapons"===u&&S.jsxs("div",{children:[S.jsxs("h3",{className:"text-white font-semibold mb-3 flex items-center gap-2 text-sm sm:text-base",children:[S.jsx(p,{className:"w-4 h-4 sm:w-5 sm:h-5 text-orange-400"}),"Weapons (",e.weapons.length,")"]}),e.weapons.length>0?v(e.weapons,"weapon"):S.jsxs("div",{className:"text-center py-8",children:[S.jsx(p,{className:"w-16 h-16 text-gray-500 mx-auto mb-4"}),S.jsx("p",{className:"text-gray-400 text-lg",children:"No weapons found"}),S.jsx("p",{className:"text-gray-500 text-sm",children:"Open chests to find weapons!"})]})]}),"armor"===u&&S.jsxs("div",{children:[S.jsxs("h3",{className:"text-white font-semibold mb-3 flex items-center gap-2 text-sm sm:text-base",children:[S.jsx(h,{className:"w-4 h-4 sm:w-5 sm:h-5 text-blue-400"}),"Armor (",e.armor.length,")"]}),e.armor.length>0?v(e.armor,"armor"):S.jsxs("div",{className:"text-center py-8",children:[S.jsx(h,{className:"w-16 h-16 text-gray-500 mx-auto mb-4"}),S.jsx("p",{className:"text-gray-400 text-lg",children:"No armor found"}),S.jsx("p",{className:"text-gray-500 text-sm",children:"Open chests to find armor!"})]})]}),"relics"===u&&S.jsxs("div",{children:[S.jsxs("h3",{className:"text-white font-semibold mb-3 flex items-center gap-2 text-sm sm:text-base",children:[S.jsx(h,{className:"w-4 h-4 sm:w-5 sm:h-5 text-indigo-400"}),"Ancient Relics (",e.relics.length,")"]}),e.relics.length>0?S.jsxs("div",{className:"space-y-4",children:[S.jsxs("div",{className:"bg-gradient-to-r from-indigo-900/50 to-purple-900/50 p-4 rounded-lg border border-indigo-500/50",children:[S.jsxs("h3",{className:"text-white font-semibold mb-3 flex items-center gap-2 text-sm sm:text-base",children:[S.jsx(h,{className:"w-4 h-4 sm:w-5 sm:h-5 text-indigo-400"}),"Absorbed Relic Power (",e.equippedRelics.length," relics)"]}),S.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[S.jsxs("div",{className:"text-center bg-black/30 p-3 rounded-lg",children:[S.jsxs("div",{className:"flex items-center justify-center gap-2 mb-1",children:[S.jsx(p,{className:"w-4 h-4 text-orange-400"}),S.jsx("span",{className:"text-orange-400 font-semibold text-sm",children:"Total ATK"})]}),S.jsxs("p",{className:"text-white font-bold text-lg",children:["+",e.equippedRelics.filter(e=>"weapon"===e.type).reduce((e,t)=>e+(t.baseAtk+22*(t.level-1)),0)]})]}),S.jsxs("div",{className:"text-center bg-black/30 p-3 rounded-lg",children:[S.jsxs("div",{className:"flex items-center justify-center gap-2 mb-1",children:[S.jsx(h,{className:"w-4 h-4 text-blue-400"}),S.jsx("span",{className:"text-blue-400 font-semibold text-sm",children:"Total DEF"})]}),S.jsxs("p",{className:"text-white font-bold text-lg",children:["+",e.equippedRelics.filter(e=>"armor"===e.type).reduce((e,t)=>e+(t.baseDef+15*(t.level-1)),0)]})]})]})]}),e.equippedRelics.length>0&&S.jsxs("div",{children:[S.jsxs("h3",{className:"text-white font-semibold mb-3 flex items-center gap-2 text-sm sm:text-base",children:[S.jsx(h,{className:"w-4 h-4 sm:w-5 sm:h-5 text-indigo-400"}),"Equipped Relics (Power Absorbed)"]}),S.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-3 sm:gap-4 max-h-64 overflow-y-auto",children:e.equippedRelics.map(e=>S.jsxs("div",{className:"bg-gradient-to-br from-indigo-900/50 to-purple-900/50 p-3 sm:p-4 rounded-lg border-2 border-indigo-500/50",children:[S.jsxs("div",{className:"flex items-center gap-2 mb-2",children:["weapon"===e.type?S.jsx(p,{className:"w-4 h-4 text-orange-400"}):S.jsx(h,{className:"w-4 h-4 text-blue-400"}),S.jsx("h4",{className:"text-white font-bold text-sm",children:e.name})]}),S.jsx("p",{className:"text-gray-300 text-xs mb-2",children:e.description}),S.jsx("p",{className:"text-white text-sm mb-2",children:"weapon"===e.type?`ATK: ${e.baseAtk+22*(e.level-1)}`:`DEF: ${e.baseDef+15*(e.level-1)}`}),S.jsxs("p",{className:"text-gray-300 text-xs mb-3",children:["Level ",e.level]}),S.jsxs("div",{className:"flex gap-2",children:[S.jsxs("button",{onClick:()=>c(e.id),disabled:t<e.upgradeCost,className:"flex-1 px-2 py-1 text-xs rounded font-semibold transition-all flex items-center gap-1 justify-center "+(t>=e.upgradeCost?"bg-purple-600 text-white hover:bg-purple-500":"bg-gray-600 text-gray-400 cursor-not-allowed"),children:[S.jsx(g,{className:"w-3 h-3"}),e.upgradeCost]}),S.jsx("button",{onClick:()=>m(e.id),className:"flex-1 px-2 py-1 text-xs rounded font-semibold bg-red-600 text-white hover:bg-red-500 transition-all",children:"Unequip"})]})]},e.id))})]}),e.relics.filter(t=>!e.equippedRelics.some(e=>e.id===t.id)).length>0&&S.jsxs("div",{children:[S.jsxs("h3",{className:"text-white font-semibold mb-3 flex items-center gap-2 text-sm sm:text-base",children:[S.jsx(h,{className:"w-4 h-4 sm:w-5 sm:h-5 text-gray-400"}),"Unequipped Relics"]}),S.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-3 sm:gap-4",children:e.relics.filter(t=>!e.equippedRelics.some(e=>e.id===t.id)).map(e=>S.jsxs("div",{className:"bg-black/40 p-3 sm:p-4 rounded-lg border border-gray-600",children:[S.jsxs("div",{className:"flex items-center gap-2 mb-2",children:["weapon"===e.type?S.jsx(p,{className:"w-4 h-4 text-orange-400"}):S.jsx(h,{className:"w-4 h-4 text-blue-400"}),S.jsx("h4",{className:"text-white font-bold text-sm",children:e.name})]}),S.jsx("p",{className:"text-gray-300 text-xs mb-2",children:e.description}),S.jsx("p",{className:"text-white text-sm mb-2",children:"weapon"===e.type?`ATK: ${e.baseAtk+22*(e.level-1)}`:`DEF: ${e.baseDef+15*(e.level-1)}`}),S.jsxs("p",{className:"text-gray-300 text-xs mb-3",children:["Level ",e.level]}),S.jsxs("div",{className:"flex gap-2",children:[S.jsx("button",{onClick:()=>d(e.id),className:"flex-1 px-2 py-1 text-xs rounded font-semibold transition-all bg-indigo-600 text-white hover:bg-indigo-500",children:"Equip & Absorb"}),S.jsx("button",{onClick:()=>x(e.id),className:"flex-1 px-2 py-1 text-xs rounded font-semibold bg-red-600 text-white hover:bg-red-500 transition-all",children:"Destroy"})]})]},e.id))})]})]}):S.jsxs("div",{className:"text-center py-8",children:[S.jsx(h,{className:"w-16 h-16 text-gray-500 mx-auto mb-4"}),S.jsx("p",{className:"text-gray-400 text-lg",children:"No relics found"}),S.jsx("p",{className:"text-gray-500 text-sm",children:"Visit the Yojef Market to find ancient relics!"})]})]}),S.jsx("div",{className:"mt-6 text-center",children:S.jsxs("div",{className:"bg-black/30 p-3 rounded-lg",children:[S.jsxs("p",{className:"text-xs sm:text-sm text-gray-300 mb-2",children:["ðŸ’¡ ",S.jsx("strong",{children:"Features:"})]}),S.jsxs("div",{className:"text-xs text-gray-400 space-y-1",children:[S.jsxs("p",{children:["â€¢ ",S.jsx("strong",{children:"Enchanted Items:"})," 5% chance from chests, double ATK/DEF"]}),S.jsxs("p",{children:["â€¢ ",S.jsx("strong",{children:"Relics:"})," Powerful ancient items - equip unlimited relics to absorb their power!"]}),S.jsxs("p",{children:["â€¢ ",S.jsx("strong",{children:"Durability:"})," Items lose durability in combat and become less effective"]})]})]})})]})};export{_ as C,K as I,U as L,z as S,O as a,$ as b,T as c,B as d,G as e,P as f,I as g,S as j};
